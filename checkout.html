<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Checkout – QuickPress</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{margin:0;font-family:Arial;background:#f6f7f8}
.box{
  max-width:500px;margin:20px auto;
  background:#fff;padding:20px;border-radius:14px
}
input,textarea{
  width:100%;padding:12px;margin:8px 0;
  border-radius:8px;border:1px solid #ccc
}
.btn{
  width:100%;padding:14px;margin-top:10px;
  border:none;border-radius:30px;
  background:#f4b400;font-weight:800;font-size:16px
}
.summary{
  background:#fff7d6;padding:12px;
  border-radius:10px;margin-bottom:10px
}
</style>
</head>

<body>

<div class="box">
  <h2>Checkout</h2>

  <div class="summary">
    Total Amount: ₹<span id="total">0</span>
  </div>

  <input id="name" placeholder="Full Name">
  <input id="mobile" placeholder="Mobile Number">
  <textarea id="address" placeholder="Full Delivery Address"></textarea>

  <p><b>Payment:</b> Cash on Delivery</p>

  <button class="btn" onclick="placeOrder()">Place Order</button>
</div>

<script>
const SCRIPT_URL = https://script.google.com/macros/s/AKfycbzRKy_rqBNYB37IPVTXVhjEVquUFVU6yTIU3WtCbGkd7Zwr1Pe1AsHy4ylp36uElw6X0w/exec;

const total = localStorage.getItem("total") || 0;
document.getElementById("total").innerText = total;

function placeOrder(){
  const name = document.getElementById("name").value.trim();
  const mobile = document.getElementById("mobile").value.trim();
  const address = document.getElementById("address").value.trim();

  if(!name || !mobile || !address){
    alert("Please fill all details");
    return;
  }

  fetch(SCRIPT_URL,{
    method:"POST",
    body:JSON.stringify({
      name:name,
      mobile:mobile,
      address:address,
      total:total,
      payment:"COD"
    })
  })
  .then(res=>res.json())
  .then(data=>{
    alert("✅ Order placed successfully!\nOrder ID: "+data.orderId);
    localStorage.removeItem("total");
    window.location.href="index.html";
  })
  .catch(()=>{
    alert("❌ Order failed. Try again.");
  });
}
</script>

</body>
</html>
